"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isConstructor=isConstructor;exports.default=exports.isValidType=exports.checkShape=exports.isPrimitive=exports.isNormalFunction=exports.isInstanceOf=exports.isType=void 0;var _react=_interopRequireDefault(require("react"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var isType=function isType(type){return function(val){return![undefined,null].includes(val)&&val.constructor===type}};exports.isType=isType;var isInstanceOf=function isInstanceOf(type){return function(val){return val instanceof type}};exports.isInstanceOf=isInstanceOf;var isNormalFunction=function isNormalFunction(f){return typeof f==="function"&&(!f.name||f.name[0]===f.name[0].toLowerCase())};exports.isNormalFunction=isNormalFunction;function isConstructor(f){if(isNormalFunction(f))return false;try{new f}catch(err){return false}return true}var isPrimitive=function isPrimitive(value){return!(value instanceof Object)};exports.isPrimitive=isPrimitive;var checkShape=function checkShape(shape,value){var normalPropsName=Object.keys(shape).filter(function(prop){return!isRegExp(prop)});return normalPropsName.every(function(key){return isValidType(shape[key],value[key])})};exports.checkShape=checkShape;var checkRegExp=function checkRegExp(regExp,value){return regExp.test(value)};var isValidType=function isValidType(type,value,props,propName){if(isType(RegExp)(type)){return checkRegExp(type,value)}else if(isPrimitive(type)){return value===type}else if(isNormalFunction(type)){return type(value,props,propName)}else if(isConstructor(type)){return isType(type)(value)}else if(isType(Array)(type)){return type.some(function(_type){return isValidType(_type,value)})}else if(isType(Object)(type)&&isType(Object)(value)){return checkShape(type,value)}return false};exports.isValidType=isValidType;var testOrWarn=function testOrWarn(type,value,props,propName){try{isValidType(type,value,props,propName)||error("prop ".concat(propName," with value ").concat(value," do not match type ").concat(type))}catch(error){error(error)}};var error=function error(){var _console,_console2;(_console=console).error.apply(_console,arguments);(_console2=console).log.apply(_console2,arguments)};var stringToRegExp=function stringToRegExp(string){return new RegExp(eval(string))};var stringRegExp=/^\/.+\/$/;var isRegExp=function isRegExp(value){return value&&stringRegExp.test(value)};var notIsRegExp=function notIsRegExp(value){return!isRegExp(value)};var typedComponent=function typedComponent(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var defaults=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(Component){return function(props){var propsToTest=Object.keys(types).filter(notIsRegExp);var regExpToCheck=Object.keys(types).filter(isRegExp);var untestedReceivedProps=Object.keys(props).filter(function(propName){return!propsToTest.includes(propName)});propsToTest.forEach(function(propName){return testOrWarn(types[propName],props[propName],props,propName)});regExpToCheck.forEach(function(regexpString){untestedReceivedProps.forEach(function(propName){if(stringToRegExp(regexpString).test(propName)){testOrWarn(types[regexpString],props[propName],props,propName)}})});var testedProps=propsToTest.filter(function(_ref){var _ref2=_slicedToArray(_ref,1),propName=_ref2[0];return!isRegExp(propName)});var _props=_objectSpread({},defaults,{},props);return _react.default.createElement(Component,_props)}}};var _default=typedComponent;exports.default=_default;
//# sourceMappingURL=index.js.map