{"version":3,"sources":["../src/index.jsx"],"names":["isType","type","val","undefined","includes","constructor","isConstructor","f","err","isPrimitive","value","Object","checkShape","shape","keys","every","key","isValidType","Array","some","_type","types","defaults","Component","props","prop","hasOwnProperty","console","log","error","_props"],"mappings":"6FAAA,oD,wgCAEA,GAAMA,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,QAAI,UAAAC,GAAG,QACxB,CAAC,CAACC,SAAD,CAAY,IAAZ,EAAkBC,QAAlB,CAA2BF,GAA3B,CAAD,EAAoCA,GAAG,CAACG,WAAJ,GAAoBJ,IADhC,CAAP,CAAnB,CAIA,QAASK,CAAAA,aAAT,CAAuBC,CAAvB,CAA0B,CACxB,GAAI,CACF,GAAIA,CAAAA,CACL,CAAC,MAAOC,GAAP,CAAY,CACZ,MAAO,MACR,CACD,MAAO,KACR,CACD,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,QAAIC,CAAAA,MAAM,CAACD,KAAD,CAAN,GAAkBA,KAAtB,CAAzB,CAEA,QAASE,CAAAA,UAAT,CAAoBC,KAApB,CAA2BH,KAA3B,CAAkC,CAChC,MAAOC,CAAAA,MAAM,CAACG,IAAP,CAAYD,KAAZ,EAAmBE,KAAnB,CAAyB,SAAAC,GAAG,QAAIC,CAAAA,WAAW,CAACJ,KAAK,CAACG,GAAD,CAAN,CAAaN,KAAK,CAACM,GAAD,CAAlB,CAAf,CAA5B,CACR,CAED,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAChB,IAAD,CAAOS,KAAP,CAAiB,CACnC,GAAID,WAAW,CAACR,IAAD,CAAf,CAAuB,CACrB,MAAOS,CAAAA,KAAK,GAAKT,IAClB,CAFD,IAEO,IAAIK,aAAa,CAACL,IAAD,CAAjB,CAAyB,CAC9B,MAAOD,CAAAA,MAAM,CAACC,IAAD,CAAN,CAAaS,KAAb,CACR,CAFM,IAEA,IAAIV,MAAM,CAACkB,KAAD,CAAN,CAAcjB,IAAd,CAAJ,CAAyB,CAC9B,MAAOA,CAAAA,IAAI,CAACkB,IAAL,CAAU,SAAAC,KAAK,QAAIH,CAAAA,WAAW,CAACG,KAAD,CAAQV,KAAR,CAAf,CAAf,CACR,CAFM,IAEA,IAAIV,MAAM,CAACW,MAAD,CAAN,CAAeV,IAAf,GAAwBD,MAAM,CAACW,MAAD,CAAN,CAAeD,KAAf,CAA5B,CAAmD,CACxD,MAAOE,CAAAA,UAAU,CAACX,IAAD,CAAOS,KAAP,CAClB,CACD,MAAO,MACR,CAXD,C,aAae,uBAACW,CAAAA,KAAD,2DAAS,EAAT,IAAaC,CAAAA,QAAb,2DAAwB,EAAxB,OAA+B,UAAAC,SAAS,QAAI,UAAAC,KAAK,CAAI,CAClE,IAAK,GAAMC,CAAAA,IAAX,GAAmBJ,CAAAA,KAAnB,CAA0B,CACxB,GAAIA,KAAK,CAACK,cAAN,CAAqBD,IAArB,CAAJ,CAAgC,CAC9B,GAAMf,CAAAA,KAAK,CAAGc,KAAK,CAACC,IAAD,CAAnB,CACA,GAAMxB,CAAAA,IAAI,CAAGoB,KAAK,CAACI,IAAD,CAAlB,CACA,GAAI,MAAOf,CAAAA,KAAP,GAAiB,WAArB,CAAkC,CAChC,QACD,CAED,GAAIO,WAAW,CAAChB,IAAD,CAAOS,KAAP,CAAf,CAA8B,CAC5BiB,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2B3B,IAA3B,CAAiCS,KAAjC,CACD,CAFD,IAEO,CACLiB,OAAO,CAACE,KAAR,CAAc,eAAd,CAA+B5B,IAA/B,CAAqCS,KAArC,CACD,CACF,CACF,CACD,GAAMoB,CAAAA,MAAM,kBAAQR,QAAR,IAAqBE,KAArB,CAAZ,CAEA,MAAO,8BAAC,SAAD,CAAeM,MAAf,CACR,CAnBsD,CAAxC,C","sourcesContent":["import React from 'react';\n\nconst isType = type => val =>\n  ![undefined, null].includes(val) && val.constructor === type;\n\n\nfunction isConstructor(f) {\n  try {\n    new f();\n  } catch (err) {\n    return false;\n  }\n  return true;\n}\nconst isPrimitive = value => Object(value) !== value;\n\nfunction checkShape(shape, value) {\n  return Object.keys(shape).every(key => isValidType(shape[key], value[key]));\n}\n\nconst isValidType = (type, value) => {\n  if (isPrimitive(type)) {\n    return value === type;\n  } else if (isConstructor(type)) {\n    return isType(type)(value);\n  } else if (isType(Array)(type)) {\n    return type.some(_type => isValidType(_type, value));\n  } else if (isType(Object)(type) && isType(Object)(value)) {\n    return checkShape(type, value);\n  }\n  return false;\n};\n\nexport default (types = {}, defaults = {}) => Component => props => {\n  for (const prop in types) {\n    if (types.hasOwnProperty(prop)) {\n      const value = props[prop];\n      const type = types[prop];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n\n      if (isValidType(type, value)) {\n        console.log('valid type!', type, value);\n      } else {\n        console.error('invalid type!', type, value);\n      }\n    }\n  }\n  const _props = { ...defaults, ...props };\n\n  return <Component {..._props} />;\n};\n"],"file":"index.js"}